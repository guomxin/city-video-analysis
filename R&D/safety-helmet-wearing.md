# 简介

安全帽检测：检测人员是否佩戴安全帽

# 目前进展

项目地址：**http://10.10.50.228:3000/AI/API/src/master/code/python/aisuite/Safety-Helmet-Wearing-Dataset-master**   

模型开发阶段完成  ，模型测试阶段完成   

## 效果图

其中红色画框表示佩戴了安全帽，浅蓝色画框表示未佩戴安全帽

#### 安全帽一

![image](https://github.com/guomxin/city-video-analysis/blob/master/R%26D/images/safety_helmet1.jpg)   

#### 安全帽二

![image](https://github.com/guomxin/city-video-analysis/blob/master/R%26D/images/safety_helmet2.jpg)

## 数据集

数据集一存放路径：/mnt/disk03/cityVideoAI/安全帽/白天   
数据集二存放路径：/mnt/disk03/cityVideoAI/安全帽/安全帽第二期

## 模型框架
模型：YOLOv3   
框架：mxnet,gluoncv

## 测试结果

数据集一：/mnt/disk03/cityVideoAI/安全帽/白天   

|                  | 查准率 | 查全率 |
| ---------------- | ------ | ------ |
| **佩戴安全帽**   | 96.7%  | 92.2%  |
| **未佩戴安全帽** | 100%   | 71.1%  |

数据集二：/mnt/disk03/cityVideoAI/安全帽/安全帽第二期

|                  | 查准率 | 查全率 |
| ---------------- | ------ | ------ |
| **佩戴安全帽**   | 96.7%   | 84.6%  |
| **未佩戴安全帽** | 100%  | 58.0%  |

# 每周进展

按时间倒序排列

## 2019/11/06-2019/11/13

第二批数据集测试效果

|                  | 查准率 | 查全率 |
| ---------------- | ------ | ------ |
| **佩戴安全帽**   | 96.7%   | 84.6%  |
| **未佩戴安全帽** | 100%  | 58.0%  |

这一批数据集远景较多，人框大部分也较为太小，识别效果不是很好，而且有的图片人群扎堆明显，更加难以识别.   
本次共检测了46张图片，其中真实戴安全帽的人数为162，模型识别出的戴安全帽的人数为137，真实未带安全帽的人数为31，其中未戴安全帽的人数为18人
有一张图片中的识别错误，将其他物体识别成戴安全帽的人

## 2019/10/08-2019/10/12

测试识别效果：

|                  | 查准率 | 查全率 |
| ---------------- | ------ | ------ |
| **佩戴安全帽**   | 96.7%  | 92.2%  |
| **未佩戴安全帽** | 100%   | 71.1%  |

数据集路径：/mnt/disk03/cityVideoAI/安全帽

共检测104张图片，包含238人，其中45人未佩戴安全帽，193人佩戴安全帽。检测到32人未佩戴安全帽（均检测正确），13个漏检（或因背对摄像头，或因佩戴帽子像安全帽造成错检，或背景颜色与目标颜色接近）；检测到184人佩戴安全帽（其中2个把背景识别为佩戴安全帽，置信度40%和46%；另外有4人实际为未佩戴安全帽，1个置信度40%，1个带了很像安全帽的帽子，其余2个模型识别 问题），15个漏检（或背景颜色与目标颜色接近、或像素目标像素较低，或遮挡）。
